<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalkulator Sistem Persamaan Linear 3 Variabel</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
      }

      body {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        margin-top: 150px;
      }

      h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 30px;
      }

      .equation-inputs {
        margin-bottom: 20px;
      }

      .equation-label {
        text-align: left;
        color: #2c3e50;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .input-group {
        display: grid;
        grid-template-columns: 1fr auto 1fr auto 1fr auto auto 1fr;
        gap: 10px;
        align-items: center;
      }

      input {
        width: 100%;
        padding: 8px;
        border: 2px solid #ddd;
        border-radius: 5px;
        font-size: 16px;
        transition: border-color 0.3s;
      }

      input:focus {
        border-color: #3498db;
        outline: none;
      }

      .variable {
        text-align: center;
        font-weight: bold;
        color: #2c3e50;
      }

      button {
        display: block;
        width: 100%;
        padding: 12px;
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s;
        margin-top: 20px;
      }

      button:hover {
        background-color: #2980b9;
      }

      .result {
        margin-top: 30px;
        padding: 20px;
        background-color: #f8f9fa;
        border-radius: 10px;
        display: none;
      }

      .result h2 {
        color: #2c3e50;
        margin-bottom: 15px;
      }

      .steps {
        margin-top: 20px;
        padding: 15px;
        background-color: #fff;
        border-left: 4px solid #3498db;
      }

      .error {
        color: #e74c3c;
        text-align: center;
        margin-top: 10px;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Kalkulator Sistem Persamaan Linear 3 Variabel</h1>

      <div class="equation-inputs">
        <div class="equation-label">Persamaan 1</div>
        <div class="input-group">
          <input type="number" id="a11" placeholder="x1" />
          <span>x +</span>
          <input type="number" id="a12" placeholder="y1" />
          <span>y +</span>
          <input type="number" id="a13" placeholder="z1" />
          <span>z</span>
          <span>=</span>
          <input type="number" id="b1" placeholder="h1" />
        </div>

        <div class="equation-label">Persamaan 2</div>
        <div class="input-group">
          <input type="number" id="a21" placeholder="x2" />
          <span>x +</span>
          <input type="number" id="a22" placeholder="y2" />
          <span>y +</span>
          <input type="number" id="a23" placeholder="z2" />
          <span>z</span>
          <span>=</span>
          <input type="number" id="b2" placeholder="h2" />
        </div>

        <div class="equation-label">Persamaan 3</div>
        <div class="input-group">
          <input type="number" id="a31" placeholder="x3" />
          <span>x +</span>
          <input type="number" id="a32" placeholder="y3" />
          <span>y +</span>
          <input type="number" id="a33" placeholder="z3" />
          <span>z</span>
          <span>=</span>
          <input type="number" id="b3" placeholder="h3" />
        </div>
      </div>

      <button onclick="solve()">Hitung</button>

      <div id="error" class="error"></div>

      <div id="result" class="result">
        <h2>Hasil:</h2>
        <div id="solution"></div>
        <div class="steps" id="steps"></div>
      </div>
    </div>
    <div style="display: flex; justify-content: center;">
      <button
        onclick="window.location.href='metode-spl.html'"
        style="
          width: 900px;
          max-width: 100%;
          margin-top: 20px;
          background-color: #e74c3c;
          color: white;
          border: none;
          padding: 12px;
          border-radius: 5px;
          cursor: pointer;
          font-size: 16px;
        "
      >
        Kembali ke Menu SPL
      </button>
  </div>
  

    <script>
      function solve() {
        // Mengambil nilai dari input
        const a11 = parseFloat(document.getElementById("a11").value);
        const a12 = parseFloat(document.getElementById("a12").value);
        const a13 = parseFloat(document.getElementById("a13").value);
        const b1 = parseFloat(document.getElementById("b1").value);

        const a21 = parseFloat(document.getElementById("a21").value);
        const a22 = parseFloat(document.getElementById("a22").value);
        const a23 = parseFloat(document.getElementById("a23").value);
        const b2 = parseFloat(document.getElementById("b2").value);

        const a31 = parseFloat(document.getElementById("a31").value);
        const a32 = parseFloat(document.getElementById("a32").value);
        const a33 = parseFloat(document.getElementById("a33").value);
        const b3 = parseFloat(document.getElementById("b3").value);

        // Validasi input
        if (
          [a11, a12, a13, b1, a21, a22, a23, b2, a31, a32, a33, b3].some(isNaN)
        ) {
          document.getElementById("error").style.display = "block";
          document.getElementById("error").textContent =
            "Mohon isi semua field dengan angka yang valid";
          document.getElementById("result").style.display = "none";
          return;
        }

        let steps = [];

        // Langkah 1: Eliminasi variabel x dari persamaan 1 dan 2
        const m1 = a21 / a11;
        const eq12 = {
          x: 0,
          y: a22 - m1 * a12,
          z: a23 - m1 * a13,
          c: b2 - m1 * b1,
        };

        steps.push(`Langkah 1: Eliminasi x dari persamaan 1 dan 2`);
        steps.push(`${a21}/${a11} = ${m1}`);
        steps.push(`Persamaan baru: ${eq12.y}y + ${eq12.z}z = ${eq12.c}`);

        // Langkah 2: Eliminasi variabel x dari persamaan 1 dan 3
        const m2 = a31 / a11;
        const eq13 = {
          x: 0,
          y: a32 - m2 * a12,
          z: a33 - m2 * a13,
          c: b3 - m2 * b1,
        };

        steps.push(`\nLangkah 2: Eliminasi x dari persamaan 1 dan 3`);
        steps.push(`${a31}/${a11} = ${m2}`);
        steps.push(`Persamaan baru: ${eq13.y}y + ${eq13.z}z = ${eq13.c}`);

        // Langkah 3: Eliminasi y untuk mendapatkan z
        const m3 = eq13.y / eq12.y;
        const z = (eq13.c - m3 * eq12.c) / (eq13.z - m3 * eq12.z);

        steps.push(`\nLangkah 3: Eliminasi y untuk mendapatkan z`);
        steps.push(`z = ${z}`);

        // Langkah 4: Substitusi z untuk mendapatkan y
        const y = (eq12.c - eq12.z * z) / eq12.y;

        steps.push(`\nLangkah 4: Substitusi z untuk mendapatkan y`);
        steps.push(`y = ${y}`);

        // Langkah 5: Substitusi y dan z untuk mendapatkan x
        const x = (b1 - a12 * y - a13 * z) / a11;

        steps.push(`\nLangkah 5: Substitusi y dan z untuk mendapatkan x`);
        steps.push(`x = ${x}`);

        // Menampilkan hasil
        document.getElementById("error").style.display = "none";
        document.getElementById("result").style.display = "block";
        document.getElementById("solution").innerHTML = `
                <p>x = ${x.toFixed(2)}</p>
                <p>y = ${y.toFixed(2)}</p>
                <p>z = ${z.toFixed(2)}</p>
            `;
        document.getElementById("steps").innerHTML = steps.join("<br>");
      }
    </script>
  </body>
</html>
